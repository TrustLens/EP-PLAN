---
layout: default  
title: The EP-PLAN ontology
description: PROV extension for linking Plans and parts of plans to their respective executions
documentation: /EP-PLAN/widoco_output/index-en.html
xml: /EP-PLAN/ontologies/ep-plan.xml
ttl: /EP-PLAN/ontologies/ep-plan.ttl
n3: /widoco_output/ontology.n3
prov: /EP-PLAN/ontologies/prov-alignment.xml
pplan: /EP-PLAN/ontologies/p-plan-alignment.xml
---
<body>

     
     <h3>Purpose & Intended Use</h3>
      
     <p>The overall purpose of the ontology is to provide a high level model for documenting plans that can be described as a series of sequential inputs and outputs of steps in a form of acyclic graphs. The ontology also covers the modelling of the instantiation of plans (e.g. an execution trace of a workflow), which is achieved via tight alignment with the PROV-O ontology. Such descriptions are useful for documenting the expected and the actual behaviour of complex data processing systems (e.g. an IoT infrastructure), scientific experiments (e.g. an executable scientific workflows), as well as various protocols that are to date predominately stored in its paper form (e.g. a lab protocol of an experiment).</p>  
     <p>The P-PLAN vocabulary is intended for documenting the expected and actual behaviour of arbitrary systems, however, the plan elements are not strictly designed to guide the execution of processes (e.g. within a scientific workflow platform). The ontology is expected to be useful for scientists and developers, who wish to enhance the transparency of protocols and computational systems through the means of providing meta descriptions, which can be queried by both human users and automated agents. 
     We foresee the main application of the ontology in scenarios where information about systems is sought to facilitate data integration and reuse, pattern mining, and assessments (e.g. trust, privacy, security, quality, etc.). </p>
     
     <h3>License</h3>
     
     <a href="https://creativecommons.org/licenses/by-nc-sa/2.0/">Creative Commons 2.0</a>
     
     <h3>References</h3>
     
     TBA
     
      <h3>Overview</h3>
      
     The EP-PLAN ontology builds on two pre-existing ontologies, namely <a href="http://purl.org/net/p-plan">P-PLAN</a>  and <a href="https://www.w3.org/TR/prov-o/">W3C recommendation PROV-O</a>.
     
      <iframe align="center" width="100%" height ="500px" src="webvowl/index.html#"></iframe>
      
      <h3>Examples</h3>
      
      <table>
      <thead>
      <tr>
      <th>Prefix</th>
      <th>URI</th>
      </tr>
      </thead>
      <tbody>
      <tr>
      <td>ep-plan</td>
      <td>&lt;https://w3id.org/ep-plan></td>
      </tr>
      <tr>
      <td>prov</td>
      <td>&lt;http://www.w3.org/ns/prov#></td>
      </tr>
      <tr>
      <td>odrl</td>
      <td>&lt;http://www.w3.org/ns/odrl/2/></td>
      </tr>
      </tbody>
      </table>
      
     <h4> Basic plan structure </h4>
     
     <h5> Example: Using steps and variables to describe plans<h5>
     
     <img src="/EP-PLAN/examples/basicPlan.jpg">
     
     <h4> Mapping execution trace </h4>
     
     <h5> Example: Mapping activities and entities to steps and variables<h5>
     
     <img src="/EP-PLAN/examples/exectrace.jpg">
     
    <h4>  Execution Trace Bundles</h4>
     
     <h5> Example: Keeping everything in one graph <h5>
     
     
     <img src="/EP-PLAN/examples/exectrace2.jpg">
     
    <h5> Example: Using separate documents as bundles <h5>
          
      <img src="/EP-PLAN/examples/exectrace3.jpg">
     
    <h5> Example: Recording the main execution activity<h5>
     
     <img src="/EP-PLAN/examples/exectrace_bundle.jpg">
     
     <h4>  Constraints </h4>
     <h5> Example: Associating constraints with steps<h5>
     <img src="/EP-PLAN/examples/stepConstraint.jpg">
     <h5> Example: Associating constraints with communication specification<h5>
     <img src="/EP-PLAN/examples/commsConstraint.jpg">
     
     <h4> Policies </h4>
     <h5> Example: A policy description expanded using  <href="http://www.w3.org/ns/odrl/2/">ODRL vocabulary</a><h5>
     <img src="/EP-PLAN/examples/policy.jpg">
     
     <h4> Plan decomposition </h4>
     
     <h2> Sample Datasets & Competency Questions  </h2>
     
     <strong>Which agents are allowed to participate in this plan?</strong>
         
     <pre><code>
     SELECT DISTINCT ?agent 
     
     WHERE {
          &lt;PlanURI> a ep-plan:Plan; ep-plan:includesResponsibleAgent ?agent.
     }
     </code></pre>    
     * If the identity of agents is not known and the agent's ability to participate in plan execution is based on certain characteristic (e.g. must be at certain location) such restrictions can be modelled as a constraint.   
     <br>
     <strong>Which agents are allowed to participate in this plan (search all abstraction layers)?</strong>
         
     <pre><code>
     SELECT DISTINCT ?agent 
     
     WHERE {
     {
          &lt;PlanURI> a ep-plan:Plan; ep-plan:includesResponsibleAgent ?agent.
     }
     UNION {
          ?subPlan ep-plan:isSubPlanOfPlan* &lt;PlanURI>; ep-plan:includesResponsibleAgent ?agent.
     }
     }
     </code></pre>    
     
     <strong>Which agents are allowed to participate in execution of  this step?</strong>
     <pre><code>
     SELECT DISTINCT ?agent 
     
     WHERE {
     {
          &lt;stepURI> a ep-plan:Step; ep-plan:canBeResponsibilityOf ?agent.
     }
     </code></pre>
         
     <strong>Which agents are allowed to participate in execution of this MultiStep (search all abstraction layers)?</strong>
     <pre><code>
     SELECT DISTINCT ?agent 

     WHERE {
     {
          &lt;StepURI> a ep-plan:MultiStep; ep-plan:canBeResponsibilityOf ?agent.
     }
     UNION
     {
          &lt;StepURI> ep-plan:isDecomposedAsPlan ?plan.
          {
          ?plan a ep-plan:Plan; ep-plan:includesResponsibleAgent ?agent.
          }
          Union
          {
          ?subPlan ep-plan:isSubPlanOfPlan* ?plan; ep-plan:includesResponsibleAgent ?agent.
          }
     }
     }
     </code></pre>
          
     <strong>Which agents that were allowed to participate in execution of this step participated in the actual execution of this step?</strong>
     <pre><code>
     SELECT DISTINCT  ?agent 
     
     WHERE {
     
          &lt;stepURI> a ep-plan:Step; ep-plan:canBeResponsibilityOf ?agent.
          ?agent a ep-plan:ResponsibleAgent; a ep-plan:Agent.
          ?activity a ep-plan:Activity; ep-plan:correspondsToStep <stepURI>; prov:wasAssociatedWith ?agent.
     }
     </code></pre>
    
    <strong>What constraints are associated with the steps of this plan?</strong>
     <pre><code>
     SELECT DISTINCT ?constraint ?step 

     WHERE 
     {
          &lt;PlanURI> a ep-plan:Plan; ep-plan:includesConstraint ?constraint; ep-plan:includesStep ?step.
          ?step ep-plan:hasConstraint ?constraint; a ep-plan:Step.
          ?constraint a ep-plan:Constraint.
     }
     </code></pre>
     
     <strong>Which executions of this planned step satisfied these constraints?</strong>
     <pre><code>
     SELECT DISTINCT ?constraint ?activity 

     WHERE 
     {
          &lt;PlanURI> ep-plan:includesConstraint ?constraint; ep-plan:includesStep ?step.
          ?step ep-plan:hasConstraint ?constraint; a ep-plan:Step.
          ?constraint a ep-plan:Constraint.
          ?activity ep-plan:correspondsToStep ?step; a ep-plan:Activity.
          ?activity ep-plan:satisfied ?constraint.
          ?execTraceBundle prov:wasDerivedFrom  &lt;PlanURI>; ep-plan:hasTraceElement ?activity.
     }
     </code></pre>
      
     <strong>What constraints are associated with the steps of this plan?</strong>
     <pre><code>
     SELECT DISTINCT ?constraint ?step 

     WHERE 
     {
          &lt;PlanURI> a ep-plan:Plan; ep-plan:includesConstraint ?constraint; ep-plan:includesStep ?step.
          ?step ep-plan:hasConstraint ?constraint; a ep-plan:Step.
          ?constraint a ep-plan:Constraint.
     }
     </code></pre>
     
     <p>Note: if there are no more than one plan descriptions present in the graph and the URIs of constraint and step element have not been reused as part of different plans, then first and last line of the query can be omitted.</p>
     
     <strong>Which executions of this planned step violated these constraints?</strong>
     <pre><code>
     SELECT DISTINCT ?constraint ?activity 

     WHERE 
     {
          &lt;PlanURI> ep-plan:includesConstraint ?constraint; ep-plan:includesStep ?step.
          ?step ep-plan:hasConstraint ?constraint; a ep-plan:Step.
          ?constraint a ep-plan:Constraint.
          ?activity ep-plan:correspondsToStep ?step; a ep-plan:Activity.
          ?activity ep-plan:violated ?constraint.
          ?execTraceBundle prov:wasDerivedFrom  &lt;PlanURI>; ep-plan:hasTraceElement ?activity.
     }
     </code></pre>
     
     <strong>What constraints are restricting the exchange of data between steps in this plan?
</strong>
     <pre><code>
     SELECT DISTINCT ?constraint ?commsSpec 

     WHERE 
     {
          &lt;PlanURI> a ep-plan:Plan; ep-plan:includesCommsSpec ?commsSpec; ep-plan:includesStep ?step.
          ?commsSpec ep-plan:hasConstraint ?constraint; a ep-plan:CommsSpec.
          ?constraint a ep-plan:Constraint.
     }
     </code></pre>
         
     <strong>What constraints are restricting the exchange of which data variable between steps s1 and s2 in this plan?
</strong>
     <pre><code>
    SELECT DISTINCT ?constraint ?variable 

     WHERE 
     {
          &lt;PlanURI> a ep-plan:Plan; ep-plan:includesCommsSpec ?commsSpec; ep-plan:includesStep &lt;s1URI>; ep-plan:includesStep &lt;s2URI>; ep-plan:includesVar ?variable.
          ?commsSpec ep-plan:hasConstraint ?constraint; a ep-plan:CommsSpec.
          ?constraint a ep-plan:Constraint.
          ?commsSpec ep-plan:hasSender &lt;s1URI>; ep-plan:hasRecipient &lt;s2URI>; ep-plan:hasPayload ?variable.
          ?variable a ep-plan:Variable.
     }
     </code></pre>
     
     <strong>Which step executions satisfied constraints restricting the exchange of data in this plan?
</strong>
     <pre><code>
    SELECT DISTINCT ?constraint ?senderActivity ?recipientActivity ?exchangedData

     WHERE 
     {
          &lt;PlanURI> a ep-plan:Plan; ep-plan:includesCommsSpec ?commsSpec; ep-plan:includesStep ?sender; ep-plan:includesStep ?recipient; ep-plan:includesVar ?variable.

          ?senderActivity a ep-plan:Activity; ep-plan:correspondsToStep ?sender.
          ?exchangedData a ep-plan:Entity; prov:wasGeneratedBy ?senderActivity; ep-plan:correspondsToVariable ?variable. 
          ?recipientActivity a ep-plan:Activity; prov:used ?exchangedData; prov:qualifiedCommunication 

          ?communication;ep-plan:correspondsToStep ?recipient.
          ?communication a ep-plan:Communication; ep-plan:correspondsToCommsSpec ?commsSpec; prov:activity ?senderActivity.

          ?commsSpec ep-plan:hasConstraint ?constraint; a ep-plan:CommsSpec.
          ?commsSpec ep-plan:hasSender ?sender; ep-plan:hasRecipient ?recipient; ep-plan:hasPayload ?variable.
          ?communication ep-plan:satisfies ?constraint.
     }
     </code></pre>
  </body>    
      
      
      
      
      

 
